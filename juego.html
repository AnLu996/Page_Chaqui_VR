<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Corre por tus Notas — Libro Moderno</title>
<link href="css/game_styles.css" rel="stylesheet" />
</head>
<body>

<!-- TOP BAR -->
<div class="topbar">
  <a class="brand" href="#"><img src="assets/img/navbar-logo.png">Corre por tus Notas</a>
  <div style="flex:1"></div>
  <nav class="nav" id="menuTabs"></nav>
</div>

<!-- BOOK STAGE -->
<div class="stage">
  <div class="book" id="book">

    <section class="page">
      <div class="masthead-content">
          
        <!-- Título principal -->
        <h1 class="masthead-title">Corre por tus Notas</h1>

        <!-- Subtítulo -->
        <h2 class="masthead-subtitle">LLEGA A TU EXAMEN... ¡ANTES QUE LA CAMPANA!</h2>

        <!-- Texto descriptivo -->
        <p class="masthead-text">
          Despierta tarde, ponte los zapatos y corre por tu vida académica.<br>
          Esquiva autos, bolsas de basura y obstáculos mientras te abres paso por la ciudad.
        </p>

        <!-- Botón CTA -->
        <a class="masthead-btn" href="#descripcion">Saber Más</a>
      </div>

      <!-- Imagen principal -->
      <div class="masthead-media">
        <img src="assets/img/corre_inicio.png" alt="Corre por tus Notas">
      </div>
    </section>

    
    <section class="page">
      <div>
        <h1>Inicio</h1>
        <p>Bienvenido al juego "Corre por tus Notas".</p>
      </div>
      <div><img src="assets/img/corre_inicio.png"></div>
    </section>

    <section class="page">
      <div>
        <h1>¿Qué es?</h1>
        <p>Un endless runner urbano donde debes llegar al colegio.</p>
      </div>
      <div><img src="assets/img/quees.png"></div>
    </section>

    <section class="page">
      <div>
        <h1>Historia</h1>
        <p>Te quedaste dormido y debes correr entre autos y basura.</p>
      </div>
      <div><img src="assets/img/historia.png"></div>
    </section>

    <section class="page">
      <!-- LADO IZQUIERDO -->
      <div class="left-col">
        <h1>Gameplay</h1>
        <p>
          Salta, esquiva autos, recoge relojes y llega a tiempo.<br>
          Mira estas demostraciones del gameplay:
        </p>

        <ul style="margin-top: 12px;">
          <li>Esquiva autos en movimiento.</li>
          <li>Salta bolsas y huecos en la pista.</li>
          <li>Recoge ítems para ganar tiempo extra.</li>
        </ul>

        <!-- VIDEO IZQUIERDA (pequeño abajo) -->
        <video class="video-left" src="assets/videos/Video_Juego_Completo.mp4" autoplay muted loop></video>
      </div>

      <!-- LADO DERECHO: 2 videos grandes -->
      <div class="right-videos">
        <video class="video-right" src="assets/videos/Prueba_Juego_Usuario1.mp4" autoplay muted loop></video>
        <video class="video-right" src="assets/videos/Prueba_Juego_Usuario2.mp4" autoplay muted loop></video>
      </div>
    </section>



    <section class="page">
      <div>
        <h1>Contacto</h1>
        <p>¿Quieres colaborar o probar el juego?</p>
      </div>
      <div><img src="assets/img/contacto.png"></div>
    </section>

  </div>
</div>

<!-- ARROWS -->
<div class="arrows">
  <button class="circle" id="prev">⟵</button>
  <button class="circle" id="next">⟶</button>
</div>

<!-- WHEEL -->
<div class="wheelDock">
  <div class="pointer"></div>
  <canvas id="wheel" width="160" height="160"></canvas>
</div>

<script>
/* ===========================
   CAPTURA PÁGINAS DEL HTML
=========================== */
const pages = [...document.querySelectorAll(".page")];
const tabs = document.getElementById("menuTabs");
let index = 0;

/* Crea los chips automáticamente */
pages.forEach((p,i)=>{
  const chip=document.createElement('a');
  chip.className='chip';
  chip.textContent=p.querySelector("h1").textContent;
  chip.onclick=()=>go(i);
  tabs.appendChild(chip);
});

/* Asigna profundidad */
pages.forEach((p,i)=>{
  p.style.zIndex = pages.length - i;
});

/* Render libro */
function render(){
  pages.forEach((p,i)=>{
    if(i < index){
      p.style.transform="rotateY(-180deg)";
    } else {
      p.style.transform="rotateY(0deg)";
    }
  });

  [...tabs.children].forEach((c,i)=>c.classList.toggle("active",i===index));
  prev.disabled = index===0;
  next.disabled = index===pages.length-1;

  drawWheel();
}

function go(i){
  index = Math.max(0,Math.min(i,pages.length-1));
  render();
}
prev.onclick = ()=>go(index-1);
next.onclick = ()=>go(index+1);

/* Key events */
document.addEventListener("keydown",e=>{
  if(e.key==="ArrowRight") go(index+1);
  if(e.key==="ArrowLeft") go(index-1);
});

/* ===========================
      MINI RULETA
=========================== */
const wheel = document.getElementById("wheel");
const ctx = wheel.getContext("2d");

function drawWheel(){
  const W=wheel.width, H=wheel.height;
  const R=Math.min(W,H)/2 - 8;
  const n=pages.length;
  const step=Math.PI*2/n;

  ctx.clearRect(0,0,W,H);
  ctx.save();
  ctx.translate(W/2,H/2);
  ctx.rotate(-Math.PI/2);

  for(let i=0;i<n;i++){
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.arc(0,0,R,i*step,(i+1)*step);
    ctx.closePath();

    const hue=(i*(360/n))%360;
    ctx.fillStyle=`hsl(${hue} 70% ${i===index?45:30}%)`;
    ctx.fill();
    ctx.strokeStyle="#0b1224";
    ctx.stroke();
  }

  ctx.restore();
}

/* Click ruleta */
wheel.addEventListener("click",e=>{
  const rect=wheel.getBoundingClientRect();
  const x=e.clientX-rect.left-rect.width/2;
  const y=e.clientY-rect.top-rect.height/2;
  let ang=Math.atan2(y,x)+Math.PI/2;
  if(ang<0) ang+=Math.PI*2;
  const n=pages.length;
  const idx=Math.floor(ang/(Math.PI*2/n));
  go(idx);
});

render();
</script>

</body>
</html>
